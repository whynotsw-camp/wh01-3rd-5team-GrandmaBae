<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>AI 구매 서비스 시작 화면</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" crossorigin="anonymous">
    <link rel="icon" href="static/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="/static/style/broadcast/tv_broadcast.css">
</head>

<body>
    <video id="videoPlayer" autoplay loop muted controls>
        <source src="{{ url_for('static', filename=video_path) }}" type="video/mp4">
    </video>
    <div class="video-controls-bar">
        <button id="playBtn"><i class="fa-solid fa-play"></i></button>
        <input type="range" id="timeline" min="0" value="0" step="1">
        <button id="stopBtn"><i class="fa-solid fa-stop"></i></button>
    </div>

    <canvas id="canvas" style="display: none;"></canvas>
    <img id="resultImage" style="display: none;">

    <!-- 리모컨 -->
    <div class="remote" id="remoteControl">
        <div style="display: flex; justify-content: space-between; width: 100%;">
            <button class="btn" id="powerButton"><i class="fa-solid fa-power-off"></i></button>
            <button class="btn" id="backButton"><i class="fa-solid fa-arrow-left"></i></button>
        </div>
        
        <div class="direction-buttons">
            <button class="arrow" id="upArrow">▲</button>
            <div style="display: flex; gap: 5px;">
                <button class="arrow" id="leftArrow">◀</button>
                <button class="service-btn" id="aiServiceBtn">
                    <span class="service-btn-icon"><i class="fa-solid fa-bag-shopping"></i></span>
                    AI 구매
                </button>
                <button class="arrow" id="rightArrow">▶</button>
            </div>
            <button class="arrow" id="downArrow">▼</button>
        </div>

        <div class="keypad" id="keypad">
            <button class="btn num-button" id="num1" data-number="1">1</button>
            <button class="btn num-button" id="num2" data-number="2">2</button>
            <button class="btn num-button" id="num3" data-number="3">3</button>
            <button class="btn num-button" id="num4" data-number="4">4</button>
            <button class="btn num-button" id="num5" data-number="5">5</button>
            <button class="btn num-button" id="num6" data-number="6">6</button>
            <button class="btn num-button" id="num7" data-number="7">7</button>
            <button class="btn num-button" id="num8" data-number="8">8</button>
            <button class="btn num-button" id="num9" data-number="9">9</button>
            <button class="btn num-button" id="num0" data-number="0">0</button>
        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const remote = document.getElementById('remoteControl');
    }); 
</script>

<script>
    document.getElementById("videoPlayer").addEventListener("error", function(event) {
        console.error("Video load error:", event);
    });
</script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
      const videoPlayer = document.getElementById("videoPlayer");
      if (videoPlayer) {
        videoPlayer.addEventListener("error", function(event) {
          console.error("Video load error:", event);
        });
      }
    });
</script>

<script src="../../static/script/broadcast/humanAi_service.js"></script>
<script src="../../static/script/broadcast/remote_control.js"></script>
<script src="../../static/script/broadcast/video_player.js"></script>
  
</body>

</html>